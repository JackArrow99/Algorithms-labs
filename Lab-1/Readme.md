# Лабораторная работа 1 - Правитель Египта

В ходе выполнения данной лабораторной работы на С++ была написана программа, представляющая собой клон игры Хаммурапи - игра под названием Правитель Египта.
  <br /><br />
  
Игра состоит из 10 раундов, в течение которых игрок, выступающий в роли правителя древнего Вавилона Хаммурапи, распоряжается ресурсами города. 
Ресурсами являются: население, акры земли и бушели пшеницы. Каждый раунд представляет один год правления. 
Каждый гражданин возделывает некоторое количество акров земли, в результате чего производится некоторое количество бушелей пшеницы. 
Эта пшеница может использоваться либо в качестве еды для граждан (которые при недостатке еды умирают от голода), либо в качестве семян для посева урожая на следующий год. Игрок также может покупать и продавать землю, используя пшеницу как валюту. 
  <br /><br />
  
Каждый раунд начинается с доклада советника «Мой повелитель, соизволь поведать тебе» о текущем состоянии дел в городе, состоящем из сборов пшеницы за прошлый год, 
акрах земли, занимаемых городом, и изменении в населении. После чего, советник спрашивает, сколько земли необходимо купить или продать в этом году, сколько пшеницы 
использовать на семена, и сколько пшеницы использовать в качестве еды. Игрок отвечает на эти вопросы вводя целые числа. Игра скрывает от игрока некоторую часть важной 
информации: правила и коэффициенты расчета параметров за раунд, но это сделано намеренно. Подбор этих параметров является частью игрового процесса. Разнообразие игре 
обеспечивает генератор случайных чисел. Цена земли определяется случайным образом в начале каждого раунда. Так же случайным образом определяются количество бушелей 
пшеницы собранных с каждого акра земли, количество пшеницы, съеденной крысами, и количество новых граждан, прибывших в город в прошлом году. В каждом году есть некоторая 
вероятность чумы, уменьшающей население города наполовину. Игра заканчивается после 10 раундов, или ранее, если все население города вымрет, или более 45 процентов 
населения умрут от голода в течение одного раунда.
  <br /><br />
  
Игра реализована в виде консольного приложения Windows. Ввод и вывод осуществляются с помощью библиотеки iostream. В игре присутствует сохранение текущего прогресса: после каждого хода игра задаёт игроку вопрос, желает ли он продолжить игру. При отрицательном ответе программа завершается, и данные о прогрессе записываются в файл "save.dat". При последующем запуске игра проверяет наличие файла сохранения и предлагает игроку загрузить прогресс. Если игрок отказывается, игра начинается с начала. Работа с файлами осуществляется с помощью библиотеки fstream. Файл сохранения представляет собой строки с числами, соответствующими переменным состояния в игре. 
  <br /><br />
Пример файла сохранения находится в данной папке.
  <br /><br />
  
В игре присутствует проверка корректности ввода: если игрок ввел некорректное число, игра попросит ввести его снова. Также корректность ввода проверяется после действий игрока за ход, чтобы удостовериться что для них хватает ресурсов. Если их не хватает, появится предупреждение: "О, повелитель, пощади нас! У нас только..." и информация об имеющихся ресурсах).
  <br /><br />
  
Пример вывода первых нескольких раундов в игре:
  <br />
    
```
==============================  П Р А В И Т Е Л Ь   Е Г И П Т А  ==============================

                                   Добро пожаловать в игру!

У вас есть сохраненная игра. Продолжить её? (y/n) y

Мой повелитель, соизволь поведать тебе
        в году 1 твоего высочайшего правления
        11 человек прибыли в наш великий город;
        Чума уничтожила половину населения;
        Население города сейчас составляет 55 человек;
        Мы собрали 3000 бушелей пшеницы, по 3 бушелей с акра;
        Крысы истребили 131 бушелей пшеницы, оставив 3169 бушелей в амбарах;
        Город сейчас занимает 1000 акров;
        1 акр земли стоит сейчас 26 бушелей.

Что пожелаешь, повелитель?
Сколько акров земли повелеваешь купить? 0
Сколько акров земли повелеваешь продать? 100
Сколько бушелей пшеницы повелеваешь съесть? 1100
Сколько акров земли повелеваешь засеять? 550

Мой повелитель, соизволь поведать тебе
        в году 2 твоего высочайшего правления
        28 человек прибыли в наш великий город;
        Население города сейчас составляет 83 человек;
        Мы собрали 1100 бушелей пшеницы, по 2 бушелей с акра;
        Крысы истребили 14 бушелей пшеницы, оставив 5480 бушелей в амбарах;
        Город сейчас занимает 900 акров;
        1 акр земли стоит сейчас 19 бушелей.

Игра сохранена. Хотите продолжть? (y/n) y

Что пожелаешь, повелитель?
Сколько акров земли повелеваешь купить? 100
Сколько акров земли повелеваешь продать? 0
Сколько бушелей пшеницы повелеваешь съесть? 1660
Сколько акров земли повелеваешь засеять? 1000
О повелитель, пощади нас! У нас лишь 83 человек, 5480 бушелей пшеницы и 900 акров земли!
Сколько акров земли повелеваешь купить? 100
Сколько акров земли повелеваешь продать? 0
Сколько бушелей пшеницы повелеваешь съесть? 1660
Сколько акров земли повелеваешь засеять? 830

Мой повелитель, соизволь поведать тебе
...
```
 
 
  <br />
 По окончании 10 раундов игроку выставляется оценка в соответствии с критериями:
  <br />
  - Среднегодовой процент умерших от голода P  
  - Количество акров земли на одного жителя L
  <br />
  
Оценки:<br />
   Если P > 33% и L < 7 – плохо («Из-за вашей некомпетентности в управлении, народ устроил бунт, и изгнал вас их города. Теперь вы вынуждены влачить жалкое существование в изгнании»)
   <br />
  Если P > 10% и L < 9 – удовлетворительно («Вы правили железной рукой, подобно Нерону и Ивану Грозному. Народ вздохнул с облегчением, и никто больше не желает видеть вас правителем»)
  <br />
  Если P > 3% и L < 10 – хорошо («Вы справились вполне неплохо, у вас, конечно, есть недоброжелатели, но многие хотели бы увидеть вас во главе города снова»)
  <br />
  В противном случае – отлично («Фантастика! Карл Великий, Дизраэли и Джефферсон вместе не справились бы лучше»)
  <br /><br />
  
